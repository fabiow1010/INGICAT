{% extends "base.html" %}

{% block content %}
<section class="col-md-10 offset-md-1">
  <form method="POST" class="card card-body mt-4">
    {% csrf_token %}

    <h2 class="mb-4">Actualizar predio: {{ predio.id }}</h2>

    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <ul class="nav nav-tabs mb-3" role="tablist">
      <li class="nav-item"><a class="nav-link active" href="#objeto" data-bs-toggle="tab"  type="button">Predios Objeto</a></li>
      <li class="nav-item"><a class="nav-link" href="#folio" data-bs-toggle="tab"  type="button">Datos Folio</a></li>
      <li class="nav-item"><a class="nav-link" href="#juri" data-bs-toggle="tab"  type="button">Datos Jurídicos FMI</a></li>
      <li class="nav-item"><a class="nav-link" href="#validacion" data-bs-toggle="tab"  type="button">Validación Existencia</a></li>
      <li class="nav-item"><a class="nav-link" href="#estado" data-bs-toggle="tab"  type="button">Estado Adquisición</a></li>
      <li class="nav-item"><a class="nav-link" href="#seguimiento" data-bs-toggle="tab"  type="button">Seguimiento</a></li>
    </ul>

    <div class="tab-content p-3 border border-top-0">
      <div class="tab-pane fade show active" id="objeto">
        {% for field in form_objeto %}
          <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}<div class="text-danger">{{ field.errors }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>

      <div class="tab-pane fade" id="folio">
        {% for field in form_folio %}
          <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}<div class="text-danger">{{ field.errors }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>

      <div class="tab-pane fade" id="juri">
        {% for field in form_juri %}
          <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}<div class="text-danger">{{ field.errors }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>

      <div class="tab-pane fade" id="validacion">
        {% for field in form_validacion %}
          <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}<div class="text-danger">{{ field.errors }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>

      <div class="tab-pane fade" id="estado">
        {% for field in form_estado %}
          <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}<div class="text-danger">{{ field.errors }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>

      <div class="tab-pane fade" id="seguimiento">
        {% for field in form_seguimiento %}
          <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}<div class="text-danger">{{ field.errors }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="mt-4">
      <button type="submit" class="btn btn-success">Guardar cambios</button>
      <form action="{% url 'delete_predio' predio.id %}" method="POST">
        {% csrf_token %}
        <button class="btn btn-danger">Eliminar</button>
      </form>
      <a href="{% url 'predios' %}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</section>
{% endblock %}
